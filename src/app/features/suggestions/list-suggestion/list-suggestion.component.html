<!-- header-actions -->
<div class="header-actions">
  <h2>Liste des Suggestions</h2>
  <button class="btn-add" (click)="goToForm()">â• Ajouter suggestion</button>
</div>

<!-- Barre de recherche -->
<div class="search-bar">
  <input
    type="text"
    [(ngModel)]="searchTerm"
    placeholder="Rechercher par titre"
  />

  <select [(ngModel)]="categoryFilter">
    <option value="">Toutes les catÃ©gories</option>
    <option *ngFor="let cat of uniqueCategories" [value]="cat">{{ cat }}</option>
  </select>

  <button (click)="applyFilter()">ğŸ” Rechercher</button>
</div>

<!-- Favoris -->
<div class="favorites" *ngIf="favorites.length > 0">
  <h3>ğŸŒŸ Favoris :</h3>
  <ul>
    <li *ngFor="let f of favorites">âœ¨ {{ f.title }}</li>
  </ul>
</div>

<!-- Liste des suggestions -->
<div
  *ngFor="let s of filteredSuggestions"
  class="suggestion-card"
  [ngClass]="s.status"
>
  <h3>
    {{ s.title }}
    <span class="emoji">{{ getStatusEmoji(s.status) }}</span>
  </h3>

  <p>{{ s.description }}</p>
  <p><strong>CatÃ©gorie :</strong> {{ s.category }}</p>
  <p><strong>Date :</strong> {{ s.date | date:'shortDate' }}</p>
  <p><strong>Likes :</strong> {{ s.nbLikes }} â¤ï¸</p>

  <div class="buttons">
    <button
      *ngIf="s.status !== 'refusee'"
      (click)="likeSuggestion(s)"
    >
      ğŸ‘ Like
    </button>

    <button
      *ngIf="s.status !== 'refusee'"
      (click)="addToFavorites(s)"
    >
      â­ Ajouter aux favoris
    </button>

    <button [routerLink]="[s.id]">ğŸ” DÃ©tails</button>
  </div>
</div>
