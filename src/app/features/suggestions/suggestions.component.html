<div class="form-container">
  <h2>âž• Ajouter une suggestion</h2>

  <form #suggestionForm="ngForm" (ngSubmit)="onSubmit()">

    <!-- Titre -->
    <div class="form-group">
      <label>Titre *</label>
      <input
        type="text"
        name="title"
        [(ngModel)]="newSuggestion.title"
        required
        minlength="5"
        pattern="^[A-Z][a-zA-Z]*$"
        #title="ngModel"
      />
      <span class="error" *ngIf="title.invalid && title.touched">
        <span *ngIf="title.errors?.['required']">Le titre est obligatoire.</span>
        <span *ngIf="title.errors?.['minlength']">Le titre doit contenir au minimum 5 caractÃ¨res.</span>
        <span *ngIf="title.errors?.['pattern']">Le titre doit commencer par une majuscule et ne contenir que des lettres.</span>
      </span>
    </div>

    <!-- Description -->
    <div class="form-group">
      <label>Description *</label>
      <textarea
        name="description"
        [(ngModel)]="newSuggestion.description"
        required
        minlength="30"
        #description="ngModel"
      ></textarea>
      <span class="error" *ngIf="description.invalid && description.touched">
        <span *ngIf="description.errors?.['required']">La description est obligatoire.</span>
        <span *ngIf="description.errors?.['minlength']">La description doit contenir au minimum 30 caractÃ¨res.</span>
      </span>
    </div>

    <!-- CatÃ©gorie -->
    <div class="form-group">
      <label>CatÃ©gorie *</label>
      <select
        name="category"
        [(ngModel)]="newSuggestion.category"
        required
        #category="ngModel"
      >
        <option value="">-- Choisir une catÃ©gorie --</option>
        <option *ngFor="let cat of categories" [value]="cat">{{ cat }}</option>
      </select>
      <span class="error" *ngIf="category.invalid && category.touched">
        La catÃ©gorie est obligatoire.
      </span>
    </div>

    <!-- Date (readonly) -->
    <div class="form-group">
      <label>Date</label>
      <input
        type="text"
        [value]="newSuggestion.date | date:'shortDate'"
        readonly
      />
    </div>

    <!-- Status (readonly) -->
    <div class="form-group">
      <label>Statut</label>
      <input
        type="text"
        [value]="newSuggestion.status"
        readonly
      />
    </div>

    <!-- Boutons -->
    <div class="buttons">
      <button type="submit" [disabled]="suggestionForm.invalid">âœ… Soumettre</button>
      <button type="button" (click)="goBack()">ðŸ”™ Retour</button>
    </div>

  </form>
</div>
